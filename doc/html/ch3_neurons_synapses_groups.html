<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>CARLsim: Chapter 3: Neurons, Synapses, and Groups</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="CARLsimStyles.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CARLsim
   &#160;<span id="projectnumber">3.0</span>
   </div>
   <div id="projectbrief">CARLsim: a GPU-accelerated SNN simulator</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="usergroup0.html"><span>User&#160;Guide</span></a></li>
      <li><a href="usergroup1.html"><span>Tutorial</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ch3_neurons_synapses_groups.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Chapter 3: Neurons, Synapses, and Groups </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="ch3s1_neurons"></a>
3.1 Neurons</h1>
<dl class="section author"><dt>Author</dt><dd>Michael Beyeler</dd></dl>
<p><a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> currently supports Izhikevich spiking neurons with either current-based or conductance-based synapses (see <a class="el" href="ch3_neurons_synapses_groups.html#ch3s2_synapses">3.2 Synapses</a>), but more neuron types are planned for the future. Different groups of neurons can be created from a one-dimensional array to a three-dimensional grid (see <a class="el" href="ch3_neurons_synapses_groups.html#ch3s3s2_topography">3.3.2 Topography</a>) via <code>createSpikeGeneratorGroup</code> and <code>createGroup</code>.</p>
<h2><a class="anchor" id="ch3s1s1_izhikevich_neurons"></a>
3.1.1 Izhikevich Neurons</h2>
<p>The Izhikevich neuron is a dynamical systems model that can be described by a two-dimensional system of ordinary differential equations: </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{eqnarray} \frac{dv}{dt} &amp; = &amp; 0.04v^2 + 5v + 140 - u + i_{syn} \\ \frac{du}{dt} &amp; = &amp; a (bv - u) \end{eqnarray}" src="form_1.png"/>
</p>
<p> Here, (1) describes the membrane potential <img class="formulaInl" alt="$v$" src="form_2.png"/> for a given synaptic current <img class="formulaInl" alt="$i_{syn}$" src="form_3.png"/> (see <a class="el" href="ch3_neurons_synapses_groups.html#ch3s2_synapses">3.2 Synapses</a>), whereas (2) describes a recovery variable <img class="formulaInl" alt="$u$" src="form_4.png"/>; the parameter <img class="formulaInl" alt="$a$" src="form_5.png"/> is the rate constant of the recovery variable, and the parameter <img class="formulaInl" alt="$b$" src="form_6.png"/> describes the sensitivity of the recovery variable to the subthreshold fluctuations of the membrane potneital. All parameters in (1) and (2) are dimensionless; however, the right-hand side of (1) is in a form such that the membrane potential <img class="formulaInl" alt="$v$" src="form_2.png"/> has mV scale and the time <img class="formulaInl" alt="$t$" src="form_7.png"/> has ms scale. is voltage, <img class="formulaInl" alt="$u$" src="form_4.png"/> is the recovery variable, <img class="formulaInl" alt="$I$" src="form_8.png"/> is the input current, and <img class="formulaInl" alt="$a, b, c, d$" src="form_9.png"/> are open parameters that have different values for different neuron types.</p>
<p>In contrast to other simple models such as the leaky integrate-and-fire (LIF) neuron, the Izhikevich neuron is able to generate the upstroke of the spike itself. Thus the voltage reset occurs not at the threshold, but at the peak ( <img class="formulaInl" alt="$v_{cutoff}=+30$" src="form_10.png"/>) of the spike. The action potential downstroke is modeled using an instantaneous reset of the membrane potential whenever <img class="formulaInl" alt="$v$" src="form_2.png"/> reaches the spike cutoff, plus a stepping of the recovery variable: </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{eqnarray} v(v>30) &amp; = &amp; c \\ u(v>30) &amp; = &amp; u + d \end{eqnarray}" src="form_11.png"/>
</p>
<p>The inclusion of <img class="formulaInl" alt="$u$" src="form_4.png"/> in the model allows for the simulation of typical spike patterns observed in biological neurons. The four parameters <img class="formulaInl" alt="$a, b, c, d$" src="form_9.png"/> can be set to simulate different types of neurons. For example, regular spiking (RS) neurons (class 1 excitable) have <img class="formulaInl" alt="$a=0.02, b=0.2, c=-65, d=8$" src="form_12.png"/>. Fast spiking (FS) neurons (class 2 excitable) have <img class="formulaInl" alt="$a=0.1, b=0.2, c=-65, d=2)$" src="form_13.png"/>. For more information on different neuron types, see Izhikevich (2003, 2004).</p>
<h2><a class="anchor" id="ch3s1s2_other_neurons"></a>
3.1.2 Other Neuron Types</h2>
<p>In the future, we plan to include other types of neuron models, such as the full 9-parameter Izhikevich model, a compartmental model, the leaky integrate-and-fire model, and the adaptive exponential integrate-and-fire model.</p>
<h1><a class="anchor" id="ch3s2_synapses"></a>
3.2 Synapses</h1>
<p>Neurons are connected via synapses. Here's how synapses work. Mention weights and that weights can change (see <a class="el" href="ch4_connections.html">Chapter 4: Connections</a>).</p>
<h2><a class="anchor" id="ch3s2s1_cuba"></a>
3.2.1 CUBA</h2>
<p>When current based (CUBA) mode is used, no conductances are present. The strength of the resulting current is directly proportional to the synaptic weight.</p>
<h2><a class="anchor" id="ch3s2s2_coba"></a>
3.2.2 COBA</h2>
<p>When conductance-based (COBA) mode is used, there are conductances with exponential decays present. If the synaptic connection is excitatory then AMPA and NMDA decay values are used. If the synaptic connection is inhibitory then GABA A and GABA B decay values are used. Users can specify the decay time constants for the synaptic decay constants by calling <a class="el" href="classCARLsim.html#a580acd7bfec3145c00014b0bd1742e2e" title="Sets default values for conduction decay and rise times or disables COBA alltogether. ">CARLsim::setConductances</a>.</p>
<dl class="section note"><dt>Note</dt><dd>A pre-synaptic spike increases both post-synaptic AMPA and NMDA (GABAa and GABAb) for excitatory (inhibitory) connections. </dd>
<dd>
Receptor-specific gain factors can be speficied to vary the AMPA-NMDA and GABAa-GABA ratio</dd></dl>
<h1><a class="anchor" id="ch3s3_groups"></a>
3.3 Groups</h1>
<dl class="section author"><dt>Author</dt><dd>Michael Beyeler</dd></dl>
<h2><a class="anchor" id="ch3s3s1_creating_groups"></a>
3.3.1 Creating Groups</h2>
<p>To create a group of Izhikevich neurons, simply specify a name (e.g., "output"), the number of neurons (e.g., 100), and a type: </p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> gOut = sim.createGroup(<span class="stringliteral">&quot;output&quot;</span>, 100, <a class="code" href="carlsim__definitions_8h.html#a71b1b059a7ff0783d39e22b9b1028d90">EXCITATORY_NEURON</a>);</div>
</div><!-- fragment --><p> Here, <a class="el" href="carlsim__definitions_8h.html#a71b1b059a7ff0783d39e22b9b1028d90">EXCITATORY_NEURON</a> denotes that the neurons in the group are glutamatergic. Neurons with GABAergic synapses are supported with the <a class="el" href="carlsim__definitions_8h.html#a1f1973192224715d2362de045a5c6387">INHIBITORY_NEURON</a> keyword.</p>
<p>To refer to this group in later method calls, the <a class="el" href="classCARLsim.html#a25e7f1c64cf9382794306765b7e2c471" title="creates a group of Izhikevich spiking neurons ">CARLsim::createGroup</a> method returns a group ID, <code>gEx</code>.</p>
<p>Next, specify the Izhikevich parameters, in this case for class 1 excitability (regular spiking) neurons (see <a class="el" href="ch3_neurons_synapses_groups.html#ch3s1s1_izhikevich_neurons">3.1.1 Izhikevich Neurons</a>): </p>
<div class="fragment"><div class="line">sim.setNeuronParameters(gOut, 0.02f, 0.2f, -65.0f, 8.0f);</div>
</div><!-- fragment --><p> where 0.02f, 0.2f, -65.0f, and 8.0f correspond respectively to the a, b, c, and d parameters of the Izhikevich neuron. Note we used <code>gOut</code> from the <code>createGroup</code> call above to reference the group ID.</p>
<p>To create a group of spike generators, the user also specifies a name, size, and type: </p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> gIn = sim.createSpikeGeneratorGroup(<span class="stringliteral">&quot;input&quot;</span>, 10, <a class="code" href="carlsim__definitions_8h.html#a71b1b059a7ff0783d39e22b9b1028d90">EXCITATORY_NEURON</a>);</div>
</div><!-- fragment --><h2><a class="anchor" id="ch3s3s2_topography"></a>
3.3.2 Topography</h2>
<p>Neurons in a group can be arranged into a (up to) three-dimensional (primitive cubic) grid using the <a class="el" href="structGrid3D.html" title="A struct to arrange neurons on a 3D grid (a primitive cubic Bravais lattice with cubic side length 1)...">Grid3D</a> struct, and connections can be specified depending on the relative placement of neurons via <a class="el" href="classCARLsim.html#aebfce9be7d21575bf22cd500b596b1c8" title="Connects a presynaptic to a postsynaptic group using fixed/plastic weights and a range of delay value...">CARLsim::connect</a>. This allows for the creation of networks with complex spatial structure.</p>
<p>Each neuron in the group gets assigned a (x,y,z) location on a 3D grid centered around the origin, so that calling <a class="el" href="structGrid3D.html" title="A struct to arrange neurons on a 3D grid (a primitive cubic Bravais lattice with cubic side length 1)...">Grid3D(Nx,Ny,Nz)</a> creates coordinates that fall in the range [-(Nx-1)/2, (Nx-1)/2], [-(Ny-1)/2, (Ny-1)/2], and [-(Nz-1)/2, (Nz-1)/2]. The resulting grid is a primitive cubic Bravais lattice with cubic side length 1 (arbitrary units). The primitive (or simple) cubic crystal system consists of one lattice point (neuron) on each corner of the cube. Each neuron at a lattice point is then shared equally between eight adjacent cubes. An example is shown in the figure below.</p>
<div class="image">
<img src="3_grid3D.jpg" alt="3_grid3D.jpg"/>
<div class="caption">
The 3D grid generated by Grid3D(2,2,2). Black circles indicate the 3D coordinates of all the neurons (with corresponding neuron IDs) in the group.</div></div>
<p> Examples:</p>
<ul>
<li><a class="el" href="structGrid3D.html" title="A struct to arrange neurons on a 3D grid (a primitive cubic Bravais lattice with cubic side length 1)...">Grid3D(1,1,1)</a> will create a single neuron with location (0,0,0).</li>
<li><a class="el" href="structGrid3D.html" title="A struct to arrange neurons on a 3D grid (a primitive cubic Bravais lattice with cubic side length 1)...">Grid3D(2,1,1)</a> will create two neurons, where the first neuron (ID 0) has location (-0.5,0,0), and the second neuron (ID 1) has location (0.5,0,0).</li>
<li><a class="el" href="structGrid3D.html" title="A struct to arrange neurons on a 3D grid (a primitive cubic Bravais lattice with cubic side length 1)...">Grid3D(1,1,2)</a> will create two neurons, where the first neuron (ID 0) has location (0,0,-0.5), and the second neuron (ID 1) has location (0,0,0.5).</li>
<li><a class="el" href="structGrid3D.html" title="A struct to arrange neurons on a 3D grid (a primitive cubic Bravais lattice with cubic side length 1)...">Grid3D(2,2,2)</a> will create eight neurons, where the first neuron (ID 0) has location (-0.5,-0.5,-0.5), the second neuron has location (0.5,-0.5,-0.5), the third has (-0.5,0.5,-0.5), and so forth (see figure below).</li>
<li><a class="el" href="structGrid3D.html" title="A struct to arrange neurons on a 3D grid (a primitive cubic Bravais lattice with cubic side length 1)...">Grid3D(3,3,3)</a> will create 3x3x3=27 neurons, where the first neuron (ID 0) has location (-1,-1,-1), the second neuron has location (0,-1,-1), the third has (1,-1,-1), the fourth has (-1,0,-1), ..., and the last one has (1,1,1).</li>
<li>etc.</li>
</ul>
<p>The 3D location of a neuron can be queried in all <a class="el" href="classCARLsim.html" title="CARLsim User Interface This class provides a user interface to the public sections of CARLsimCore sou...">CARLsim</a> states using the method <a class="el" href="classCARLsim.html#aba1eac7ee46971637423204a63e9892b" title="returns the 3D location a neuron codes for ">CARLsim::getNeuronLocation3D</a>. This allows, for example, for user-defined connections to be built based on 3D location (see <a class="el" href="ch4_connections.html#ch4s3_user_defined">4.3 User-Defined Connections</a>).</p>
<p>The following code snippet creates a group of 500 excitatory neurons arranged on a 10x10x5 three-dimensional (primitive cubic) grid: </p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> gOut = sim.createGroup(<span class="stringliteral">&quot;output&quot;</span>, <a class="code" href="structGrid3D.html">Grid3D</a>(10,10,5), <a class="code" href="carlsim__definitions_8h.html#a71b1b059a7ff0783d39e22b9b1028d90">EXCITATORY_NEURON</a>);</div>
</div><!-- fragment --><p>Note that in this example, the <a class="el" href="structGrid3D.html" title="A struct to arrange neurons on a 3D grid (a primitive cubic Bravais lattice with cubic side length 1)...">Grid3D</a> parameter replaces the integer values (for number of neurons) used for <a class="el" href="classCARLsim.html#a25e7f1c64cf9382794306765b7e2c471" title="creates a group of Izhikevich spiking neurons ">CARLsim::createGroup</a> in <a class="el" href="ch3_neurons_synapses_groups.html#ch3s3s1_creating_groups">3.3.1 Creating Groups</a>. In fact, creating a group with N neurons is the same as arranging N neurons on a Nx1x1 grid: </p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> gOut = sim.createGroup(<span class="stringliteral">&quot;output&quot;</span>, N, <a class="code" href="carlsim__definitions_8h.html#a71b1b059a7ff0783d39e22b9b1028d90">EXCITATORY_NEURON</a>);             <span class="comment">// these two function calls</span></div>
<div class="line"><span class="keywordtype">int</span> gOut = sim.createGroup(<span class="stringliteral">&quot;output&quot;</span>, <a class="code" href="structGrid3D.html">Grid3D</a>(N,1,1), <a class="code" href="carlsim__definitions_8h.html#a71b1b059a7ff0783d39e22b9b1028d90">EXCITATORY_NEURON</a>); <span class="comment">// are equivalent</span></div>
</div><!-- fragment --><dl class="section see"><dt>See Also</dt><dd><a class="el" href="ch4_connections.html#ch4s1s8_gaussian">4.1.8 Gaussian Connectivity</a> </dd>
<dd>
<a class="el" href="ch4_connections.html#ch4s1s3_radiusRF">4.1.3 The RadiusRF Struct</a> </dd>
<dd>
<a class="el" href="structGrid3D.html" title="A struct to arrange neurons on a 3D grid (a primitive cubic Bravais lattice with cubic side length 1)...">Grid3D</a> </dd>
<dd>
<a class="el" href="structRadiusRF.html" title="A struct to specify the receptive field (RF) radius in 3 dimensions. ">RadiusRF</a> </dd></dl>
<dl class="section since"><dt>Since</dt><dd>v3.0 </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Feb 17 2015 09:46:40 for CARLsim by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
